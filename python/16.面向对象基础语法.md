# 面向对象基础语法

## 01.dir 内置函数

在 Python 中可以使用以下两个方法验证：

1. 在 **标识符/数据** 后输入一个 **.** ，然后按下 Tab 键，iPython 会提示该对象能够调用的 **方法列表**
2. 在使用内置函数 dir 传入 **标识符/数据**，可以查看对象内的 **所有属性及方法**

| 序号 | 方法名       | 类型 | 作用                                          |
| ---- | ------------ | ---- | --------------------------------------------- |
| 1    | ____new____  | 方法 | **创建对象**时，会被 **自动** 调用            |
| 2    | ____init____ | 方法 | **对象被初始化** 时，会被 **自动** 调用       |
| 3    | ____del____  | 方法 | **对象被从内存中销毁** 前，会被 **自动** 调用 |
| 4    | ____str____  | 方法 | 返回 **对象的描述信息**，print 函数输出使用   |

**提示** 利用好 dir( ) 函数，能避免很多内容的死记硬背

## 02.定义简单的类（只包含方法）

**面向对象** 是 **更大** 的 **封装**，在 **一个类中 封装 多个方法**，这样 **通过这个类创建出来的对象，就可以直接调用这些方法！！！**

### 2.1 定义只包含方法的类

- 在 Python 中要定义一个只包含方法的类，语法格式如下：

  ```
  class 类名:
  	
  	def 方法1(self, 参数列表):
  		pass
  		
  	def 方法2(self, 参数列表)
  		pass
  ```

- **方法** 的定义格式和 **函数** 几乎一样

- 区别在于第一个参数必须是 self

  注意：**类名**  的命名规则 要符合 **大驼峰命名法**

### 2.2 创建对象

- 当一个类定义完成之后，要使用这个类来创建对象，语法格式如下：

  ```
  对象变量 = 类名()
  ```

### 2.3 第一个面向对象程序

**需求**

- **小猫** 爱 **吃** 🐟，**小猫** 要 **喝** 水

分析

1. 定义一个猫类 Cat
2. 定义两个方法 eat 和 drink
3. 按照需求 —— 不需要定义属性

```
class Cat:
	"""这是一个猫类"""
	
	def eat(self):
		print("小猫爱吃🐟")
		
	def drink(self):
		print("小猫要喝水")
		
# 定义变量接收猫类
tom = Cat()
tom.drink()
tom.eat()
```

**引用概念的强调**

在面向对象的开发中，**引用** 的概念同样适用

- 在 Python 中使用类 **创建对象之后**，tom 变量中 仍然记录的是 **对象在内存中的地址**

- 也就是 tom 变量 **引用** 了 **新建的猫对象**

- 使用 print 输出 **对象变量**，默认情况下，是能够输出这个变量 **引用的对象** 是 **由哪一个类创建的对象**，以及 **在内存中的地址（十六进制表示）**

  提示：在计算机中，通常使用 **十六进制** 表示 **内存地址**

- %d 可以以 **10进制** 输出数字
- %x 可以以 **16进制** 输出数字

## 03.方法中的 self 参数

### 3.1 案例改造 —— 给对象增加属性

- 在 Python 中，要 **给对象设置属性**，容易但是不推荐使用，因为对象属性的封装应该封装在类的内部

- 只需要在 **类的外部的代码** 中直接通过 **.** 设置一个属性即可

  **注意** 不推荐使用

**哪一个 对象** 调用的 **方法**，self 就是 **哪一个 对象** 的引用 

```
class Cat:
	
	def eat(self):
		print("%s 爱吃🐟" % self.name)
		
tom = Cat()
tom.name = "Tom"
tom.eat()

lazy_cat = Cat()
lazy_cat.name = "大懒猫"
lazy_cat.eat()
```

## 04.初始化方法

### 4.1 在类的外部给对象增加属性

- 在日常开发中，不推荐在 **类的外部** 给对象增加属性
  - 如果 **在运行时，没有找到属性，程序会报错**
- 对象应该包含有哪些属性，应该 **封装在类的内部**

### 4.2 初始化方法

- 当使用 **类名()** 创建对象时，会 **自动** 执行以下操作：
  1. 为对象在内存中 **分配空间** —— 创建对象
  2. 为对象的属性 **设置初始值** —— 初始化方法（init）

- **初始化方法** 就是 init 方法，init 是对象的 **内置方法**

  ____init____ 方法是 **专门** 用来定义一个类 **具有哪些属性的方法！！！**

### 4.3 在初始化方法内部定义属性

- 在 init  方法内部使用 self.属性名 = 属性的初始值 就可以 **定义属性**
- 定义属性之后，再使用 Cat 类创建的对象，都会拥有该属性

### 4.4 初始化的同时设置初始值

- 如果希望在 **创建对象的同时，就设置对象的属性**，可以对 init 方法进行 **改造**
  1. 把希望设置的属性值，定义成 ____init____ 方法的参数
  2. 在方法内部使用 self.属性 = 形参 接收外部传递的参数
  3. 在创建对象时，使用 类名(属性1，属性2……) 调用

## 05.内置方法和属性

| 序号 |   方法名    | 类型 | 作用                                          |
| :--: | :---------: | :--: | :-------------------------------------------- |
|  01  | ____del____ | 方法 | **对象被从内存中销毁** 前，会被 **自动** 调用 |
|  02  | ____str____ | 方法 | 返回 **对象的描述信息**，print 函数输出使用   |

### 5.1 ____del____ 方法

- 在 Python 中
  - 当使用 类名() 创建对象时，为对象 **分配完空间后，自动** 调用 ____init____ 方法
  - 当一个 **对象被从内存中销毁** 前，会 **自动** 调用 del 方法
- **应用场景**
  - init 改造初始化方法，可以让创建对象更加灵活
  - ____del____ 如果希望在对象被销毁前，再做一些事情，可以使用 ____del___ 方法
- **生命周期**
  - 一个对象从调用 类名() 创建，生命周期开始
  - 一个对象的 ____del____ 方法一旦被调用，生命周期结束
  - 在对象的生命周期内，可以访问对象的属性，或者让对象调用方法

### 5.2 ____str____ 方法

- 在 Python 中，使用 print 输出 **对象变量**，默认情况下，会输出这个变量 **引用的对象** 是 **由哪一个类创建的对象**，以及 **在内存中的地址（十六进制表示）**

- 如果在开发中，希望使用 print 输出 **对象变量** 时，能够打印 **自定义的内容**，就可以利用 ____str____ 这个内置方法

  **注意：**____str____ 方法必须 **返回** 一个 **字符串**